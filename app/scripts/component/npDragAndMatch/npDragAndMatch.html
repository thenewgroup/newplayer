<div class="{{component.type}} npDragAndMatch" ng-controller="npDragAndMatchController as npDragAndMatch" id="{{npDragAndMatch.id}}">
    <div id="draggableContainer">
        <div class="row">
            <div class="debug">
                <h3>{{component.type}} -- <small>{{component.idx}}</small></h3>
            </div>
            <div id="draggableButtons" class="col-xs-6">
                <div drag-button ng-repeat="draggableButton in npDragAndMatch.draggableButtons" data-reference="{{$index}}"  id="id{{$index}}" ng-click="npDragAndMatch.update(draggableButton)" class="draggableButton box boxElements">
                    <svg class="completeCheck" version="1.2" baseProfile="tiny" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" preserveAspectRatio="none">
                        <style type="text/css">
                            <![CDATA[
                            .st0{fill:url(#SVGID_1_);}
                            .st1{display:inline;}
                            .st2{display:none;}
                            ]]>
                        </style>
                        <linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="0" y1="0" x2="400" y2="200">
                            <stop  offset="0" style="stop-color:#CAA04C"/>
                            <stop  offset="0.3497" style="stop-color:#F8E4AA"/>
                            <stop  offset="0.638" style="stop-color:#CAA04D"/>
                            <stop  offset="0.9816" style="stop-color:#F3DB7E"/>
                        </linearGradient>
                        <rect fill="" stroke="url(#SVGID_1_)" stroke-width="3" vector-effect="non-scaling-stroke"  x="0" y="0" width="99%" height="99%"/>
                        <foreignObject x="0%" y="0" width="100%" height="100%">
                            <div class="{{draggableButton.class}} button-content">
                                <img class="draggableButtonImage" ng-src="{{draggableButton.image}}" alt="{{draggableButton.alt}}" />
                                <div class="draggableButtonContent body-copy-strong" ng-bind-html="draggableButton.content" ></div>
                            </div>
                        </foreignObject>
                    </svg>
                </div>
            </div>
            <div class="col-xs-6">
                <div id="hitAreaWrapper">                    
                    <div ng-repeat="draggableButton in npDragAndMatch.draggableButtons" class="{{hitArea.class}} hit-area boxElements">
                        <div class="hit-area-background"></div>
                        <svg class="complete-background" version="1.2" baseProfile="tiny" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" preserveAspectRatio="none">
                            <g class="complete-background-Layer_1">
                                <linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="486.5701" y1="836.5667" x2="474.7614" y2="851.428" gradientTransform="matrix(0.9984 5.588965e-02 -5.588965e-02 0.9984 48.0441 -25.572)">
                                    <stop  offset="0.1882" style="stop-color:#CAA04E"/>
                                    <stop  offset="0.3683" style="stop-color:#FFEBC3"/>
                                    <stop  offset="0.3952" style="stop-color:#F7DFB1"/>
                                    <stop  offset="0.5063" style="stop-color:#D7B26A"/>
                                    <stop  offset="0.5581" style="stop-color:#CAA04E"/>
                                    <stop  offset="1" style="stop-color:#F3DB7F"/>
                            </g>
                            <g id="complete-background-Layer_2">
                                <rect stroke="url(#SVGID_1_)" stroke-width="3" vector-effect="non-scaling-stroke" fill="none"  x="0" y="0" width="100%" height="100%"/>
                            </g>
                            <g id="complete-background-Layer_4">
                                <foreignObject  x="0" y="0" width="100%" height="100%" >
                                    <div class="button-content">
                                        <img class="hitAreaImage" ng-src="{{draggableButton.matchingImage}}" alt="{{hitArea.alt}}" />
                                        <div class="hitAreaContent body-copy" ng-bind-html="draggableButton.matchingContent" ></div>
                                    </div>
                                    <div class="button-completion-content vertical-centered">
                                        <div class="row " >
                                            <div class="positive-feedback-image">
                                                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                                     width="139.535px" height="139.536px" viewBox="665.896 1118.26 139.535 139.536"
                                                     enable-background="new 665.896 1118.26 139.535 139.536" xml:space="preserve">
                                                    <linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="486.9971" y1="-44.001" x2="475.1884" y2="-58.8622" gradientTransform="matrix(6.1102 0.342 0.342 -6.1102 -2188.8755 702.1841)">
                                                        <stop  offset="0.1882" style="stop-color:#CAA04E"/>
                                                        <stop  offset="0.3683" style="stop-color:#FFEBC3"/>
                                                        <stop  offset="0.3952" style="stop-color:#F7DFB1"/>
                                                        <stop  offset="0.5063" style="stop-color:#D7B26A"/>
                                                        <stop  offset="0.5581" style="stop-color:#CAA04E"/>
                                                        <stop  offset="1" style="stop-color:#F3DB7F"/>
                                                    </linearGradient>
                                                    <polygon fill="url(#SVGID_1_)" points="784.624,1164.16 768.712,1150.084 722.812,1203.939 695.271,1180.684 681.195,1196.596  724.648,1233.316 "/>
                                                    <path fill="#9A7D46" d="M735.664,1257.796c-38.556,0-69.768-31.212-69.768-69.769c0-38.556,31.212-69.768,69.768-69.768  s69.768,31.212,69.768,69.768C805.432,1226.584,774.22,1257.796,735.664,1257.796z M735.664,1124.38  c-34.884,0-63.648,28.765-63.648,63.648s28.765,63.647,63.648,63.647s63.648-28.764,63.648-63.647S770.548,1124.38,735.664,1124.38z  "/>
                                                </svg>
                                            </div>
                                            <div class="positive-feedback-content body-copy " ng-bind-html="positiveFeedback"></div>
                                        </div>
                                    </div>
                                </foreignObject>
                            </g>
                        </svg>
                    </div>
                </div>
            </div> 
        </div>
    </div>
    <div np-component ng-if="subCmp" ng-repeat="component in components" idx="{{component.idx}}"></div>
</div>